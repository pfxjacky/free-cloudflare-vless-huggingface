const _0x2fb558=_0x5108;(function(_0x115f9d,_0x12c55a){const _0x35be3f=_0x5108,_0x2b1a09=_0x115f9d();while(!![]){try{const _0x3fd8f1=parseInt(_0x35be3f(0x1a2))/0x1+parseInt(_0x35be3f(0x1d5))/0x2+-parseInt(_0x35be3f(0x22d))/0x3*(parseInt(_0x35be3f(0x1c0))/0x4)+-parseInt(_0x35be3f(0x180))/0x5*(-parseInt(_0x35be3f(0x1e5))/0x6)+-parseInt(_0x35be3f(0x1c5))/0x7+parseInt(_0x35be3f(0x1bd))/0x8+-parseInt(_0x35be3f(0x14f))/0x9*(parseInt(_0x35be3f(0x221))/0xa);if(_0x3fd8f1===_0x12c55a)break;else _0x2b1a09['push'](_0x2b1a09['shift']());}catch(_0x2d9ee9){_0x2b1a09['push'](_0x2b1a09['shift']());}}}(_0xdfff,0x72b5a));import{connect}from'cloudflare:sockets';let userID=_0x2fb558(0x22f),kvUUID,proxyIPs=['proxyip.amclubs.camdvr.org','proxyip.amclubs.kozow.com'],proxyIP=proxyIPs[Math[_0x2fb558(0x151)](Math[_0x2fb558(0x1ef)]()*proxyIPs[_0x2fb558(0x1f7)])],proxyPort=0x1bb,proxyIpTxt=atob('aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FtY2x1YnMvYW0tY2YtdHVubmVsL21haW4vcHJveHlpcC50eHQ='),proxyDomain=[],socks5='',socks5Enable=![],parsedSocks5={},dohURL=_0x2fb558(0x182);const defaultIpUrlTxt=atob(_0x2fb558(0x14e));let randomNum=0x19,ipUrl=[],ipUrlTxt=[defaultIpUrlTxt],ipUrlCsv=[],ipLocal=[_0x2fb558(0x171),_0x2fb558(0x224),'time.is#github.com/pfxjacky\x20GitHub仓库(关注查看新功能)',_0x2fb558(0x212)],noTLS=![],sl=0x5,tagName=atob(_0x2fb558(0x232)),subUpdateTime=0x6,timestamp=0x3bb25e60800,total=0x63*0x4000000000000,download=Math[_0x2fb558(0x151)](Math[_0x2fb558(0x1ef)]()*0x10000000000),upload=download,network='ws',fakeUserID,fakeHostName,subProtocol='https',subConverter=atob('dXJsLnYxLm1r'),subConfig=atob(_0x2fb558(0x1c8)),fileName=atob(_0x2fb558(0x1cd)),isBase64=!![],botToken='',chatID='',projectName=atob(_0x2fb558(0x1de)),ytName=atob(_0x2fb558(0x1ed));function _0x5108(_0x78e0ac,_0x6422fa){const _0xdffff=_0xdfff();return _0x5108=function(_0x510894,_0x2cc341){_0x510894=_0x510894-0x143;let _0x21110d=_0xdffff[_0x510894];return _0x21110d;},_0x5108(_0x78e0ac,_0x6422fa);}const httpPattern=/^http(s)?:\/\/.+/,protTypeBase64=_0x2fb558(0x203),protTypeBase64Tro=_0x2fb558(0x1c3);let dnsResolver=atob(_0x2fb558(0x153)),nat64Domain=[],nat64=![],nat64Prefix,nat64Prefixs=[_0x2fb558(0x237)],hostRemark=![];const ENABLE_LOG=!![];if(!isValidUUID(userID))throw new Error(_0x2fb558(0x207));export default{async 'fetch'(_0x2bd5b4,_0x3b5936,_0x3e28c6){const _0x3542f2=_0x2fb558;try{let {UUID:_0x1d30f0,PROXYIP:_0x17af76,PROXYIP_DOM_URL_TXT:_0x1735ba,SOCKS5:_0x584115,DNS_RESOLVER_URL:_0x311f2e,IP_LOCAL:_0x3159ee,IP_URL:_0x39dffd,IP_URL_TXT:_0x314136,IP_URL_CSV:_0xb42eec,NO_TLS:_0x3279d6,SL:_0x262c2a,SUB_CONFIG:_0x593fdd,SUB_CONVERTER:_0x4524f6,SUB_NAME:_0x52e90f,CF_EMAIL:_0x2d87d0,CF_KEY:_0x4a9107,CF_ID:CF_ID=0x0,TG_TOKEN:_0x32cd99,TG_ID:_0xe6dd66,ADDRESSESAPI:_0x4e905f,NAT64:_0x24e000,NAT64_DOM_URL_TXT:_0x32deb8,NAT64_PREFIX:_0x5dcaa7,HOST_REAMRK:_0x234d13}=_0x3b5936;const _0x311624=await checkKVNamespaceBinding(_0x3b5936);!_0x311624&&(kvUUID=await getKVData(_0x3b5936));const _0x2946cd=new URL(_0x2bd5b4['url']);userID=(kvUUID||_0x1d30f0||userID)[_0x3542f2(0x14c)](),_0x17af76=_0x2946cd['searchParams']['get'](_0x3542f2(0x18b))||_0x17af76;if(_0x17af76){if(httpPattern[_0x3542f2(0x1cb)](_0x17af76)){let _0xb04d81=await addIpText(_0x17af76),_0x42d29f;_0x17af76[_0x3542f2(0x1f1)](_0x3542f2(0x235))?_0x42d29f=await getIpUrlTxtAndCsv(noTLS,null,_0xb04d81):_0x42d29f=await getIpUrlTxtAndCsv(noTLS,_0xb04d81,null);const _0x19357e=[...new Set([..._0x42d29f[_0x3542f2(0x173)],..._0x42d29f[_0x3542f2(0x145)]])];proxyIP=_0x19357e[Math[_0x3542f2(0x151)](Math['random']()*_0x19357e[_0x3542f2(0x1f7)])];}else proxyIPs=await addIpText(_0x17af76),proxyIP=proxyIPs[Math[_0x3542f2(0x151)](Math[_0x3542f2(0x1ef)]()*proxyIPs['length'])];}else{let _0x356c30=await addIpText(proxyIpTxt),_0x199b14=await getIpUrlTxtAndCsv(noTLS,_0x356c30,null),_0x20893d=_0x199b14[_0x3542f2(0x173)]['map'](_0x17b73d=>''+tagName+download+'.'+_0x17b73d);const _0x5edfb0=[...new Set([..._0x20893d,...proxyIPs])];proxyIP=_0x5edfb0[Math['floor'](Math[_0x3542f2(0x1ef)]()*_0x5edfb0[_0x3542f2(0x1f7)])];}if(proxyIP){const [_0x3bf121,_0x3ae56b]=proxyIP[_0x3542f2(0x16d)](':');proxyIP=_0x3bf121,proxyPort=_0x3ae56b||proxyPort;}socks5=_0x2946cd['searchParams'][_0x3542f2(0x190)](_0x3542f2(0x1e7))||_0x2946cd['searchParams']['get'](_0x3542f2(0x241))||_0x584115||socks5,parsedSocks5=await parseSocks5FromUrl(socks5,_0x2946cd);parsedSocks5&&(socks5Enable=!![],console['log'](_0x3542f2(0x1aa),parsedSocks5[_0x3542f2(0x1c2)]+':'+parsedSocks5[_0x3542f2(0x18a)]),parsedSocks5[_0x3542f2(0x1c2)][_0x3542f2(0x1cf)](':')&&console['log']('IPv6\x20SOCKS5\x20proxy\x20detected'));dohURL=_0x2946cd[_0x3542f2(0x1c7)][_0x3542f2(0x190)](_0x3542f2(0x1c9))||_0x311f2e||dohURL,_0x3159ee=_0x2946cd['searchParams']['get'](_0x3542f2(0x16e))||_0x3159ee;_0x3159ee&&(ipLocal=await addIpText(_0x3159ee));const _0x3a8061=[],_0x4ae71b=[];_0x39dffd=_0x2946cd[_0x3542f2(0x1c7)]['get']('IP_URL')||_0x39dffd;_0x39dffd&&(ipUrlTxt=[],ipUrl=await addIpText(_0x39dffd),ipUrl=await getIpUrlTxtToArry(ipUrl),ipUrl[_0x3542f2(0x15e)](_0x4cd6e5=>{const _0x41cb12=_0x3542f2;getFileType(_0x4cd6e5)===_0x41cb12(0x145)?_0x3a8061[_0x41cb12(0x225)](_0x4cd6e5):_0x4ae71b['push'](_0x4cd6e5);}));_0x4e905f=_0x2946cd[_0x3542f2(0x1c7)]['get'](_0x3542f2(0x18e))||_0x4e905f,_0x314136=_0x2946cd[_0x3542f2(0x1c7)][_0x3542f2(0x190)](_0x3542f2(0x1bf))||_0x314136,_0xb42eec=_0x2946cd['searchParams']['get'](_0x3542f2(0x172))||_0xb42eec;_0x4e905f&&(ipUrlTxt=await addIpText(_0x4e905f));_0x314136&&(ipUrlTxt=await addIpText(_0x314136));_0xb42eec&&(ipUrlCsv=await addIpText(_0xb42eec));ipUrlCsv=[...new Set([...ipUrlCsv,..._0x3a8061])],ipUrlTxt=[...new Set([...ipUrlTxt,..._0x4ae71b])],noTLS=_0x2946cd[_0x3542f2(0x1c7)]['get'](_0x3542f2(0x1ac))||_0x3279d6||noTLS,sl=_0x2946cd[_0x3542f2(0x1c7)]['get']('SL')||_0x262c2a||sl,subConfig=_0x2946cd[_0x3542f2(0x1c7)][_0x3542f2(0x190)](_0x3542f2(0x227))||_0x593fdd||subConfig,subConverter=_0x2946cd[_0x3542f2(0x1c7)][_0x3542f2(0x190)](_0x3542f2(0x147))||_0x4524f6||subConverter,fileName=_0x2946cd[_0x3542f2(0x1c7)][_0x3542f2(0x190)](_0x3542f2(0x157))||_0x52e90f||fileName,botToken=_0x2946cd[_0x3542f2(0x1c7)][_0x3542f2(0x190)](_0x3542f2(0x1d4))||_0x32cd99||botToken,chatID=_0x2946cd[_0x3542f2(0x1c7)][_0x3542f2(0x190)]('TG_ID')||_0xe6dd66||chatID;let _0x2c6730=_0x2946cd['searchParams'][_0x3542f2(0x190)](_0x3542f2(0x168));_0x2c6730&&(_0x2c6730=_0x2c6730['toLowerCase']());randomNum=_0x2946cd['searchParams']['get'](_0x3542f2(0x216))||randomNum,hostRemark=_0x2946cd[_0x3542f2(0x1c7)][_0x3542f2(0x190)](_0x3542f2(0x15a))||_0x234d13||hostRemark,nat64=_0x2946cd[_0x3542f2(0x1c7)][_0x3542f2(0x190)]('NAT64')||_0x24e000||nat64,_0x32deb8=_0x2946cd[_0x3542f2(0x1c7)][_0x3542f2(0x190)](_0x3542f2(0x1e6))||_0x32deb8;if(_0x32deb8){let _0x123639=await addIpText(_0x32deb8),_0x39c149=await getIpUrlTxtAndCsv(noTLS,_0x123639,null);nat64Domain=[...new Set([..._0x39c149[_0x3542f2(0x173)]])];}_0x1735ba=_0x2946cd['searchParams'][_0x3542f2(0x190)]('PROXYIP_DOM_URL_TXT')||_0x1735ba;if(_0x1735ba){let _0x1982ff=await addIpText(_0x1735ba),_0x2f02ba=await getIpUrlTxtAndCsv(noTLS,_0x1982ff,null);proxyDomain=[...new Set([..._0x2f02ba['txt']])];}nat64Prefix=_0x2946cd[_0x3542f2(0x1c7)][_0x3542f2(0x190)]('NAT64_PREFIX')||_0x5dcaa7;if(_0x5dcaa7){if(httpPattern[_0x3542f2(0x1cb)](_0x5dcaa7)){let _0x3144ea=await addIpText(_0x5dcaa7),_0x478fb8;_0x5dcaa7[_0x3542f2(0x1f1)]('.csv')?_0x478fb8=await getIpUrlTxtAndCsv(noTLS,null,_0x3144ea):_0x478fb8=await getIpUrlTxtAndCsv(noTLS,_0x3144ea,null);const _0x14fbb0=[...new Set([..._0x478fb8[_0x3542f2(0x173)],..._0x478fb8[_0x3542f2(0x145)]])];nat64Prefix=_0x14fbb0[Math[_0x3542f2(0x151)](Math[_0x3542f2(0x1ef)]()*_0x14fbb0[_0x3542f2(0x1f7)])];}else nat64Prefixs=await addIpText(_0x5dcaa7),nat64Prefix=nat64Prefixs[Math[_0x3542f2(0x151)](Math[_0x3542f2(0x1ef)]()*nat64Prefixs[_0x3542f2(0x1f7)])];}const [_0x3f6a7d,_0x3fad7a]=subConverter[_0x3542f2(0x233)](_0x3542f2(0x143))||subConverter[_0x3542f2(0x233)](_0x3542f2(0x1da))?subConverter[_0x3542f2(0x16d)](_0x3542f2(0x18c)):[undefined,subConverter];subConverter=_0x3fad7a;const _0x32e008=_0x2bd5b4[_0x3542f2(0x1fc)][_0x3542f2(0x190)]('User-Agent')||'null',_0x301ea0=_0x32e008[_0x3542f2(0x14c)](),_0x6882b0=_0x2bd5b4['headers'][_0x3542f2(0x190)](_0x3542f2(0x170)),_0xf33ce=_0x2bd5b4[_0x3542f2(0x1fc)][_0x3542f2(0x190)](_0x3542f2(0x222)),_0x409132=Math[_0x3542f2(0x151)](timestamp/0x3e8);if(_0xf33ce===_0x3542f2(0x1b4))return await vlessOverWSHandler(_0x2bd5b4);fakeUserID=await getFakeUserID(userID),fakeHostName=fakeUserID[_0x3542f2(0x17b)](0x6,0x9)+'.'+fakeUserID['slice'](0xd,0x13);switch(_0x2946cd['pathname']['toLowerCase']()){case'/':{return new Response(await nginx(),{'headers':{'Content-Type':_0x3542f2(0x1db),'referer':_0x3542f2(0x1b9)+fileName}});}case'/'+fakeUserID:{const _0x4b250b=await getvlessConfig(userID,_0x6882b0,'CF-FAKE-UA',_0x2946cd,_0x2c6730,nat64,hostRemark);return new Response(_0x4b250b,{'status':0xc8});}case'/'+userID:{await sendMessage(_0x3542f2(0x1a3)+fileName,_0x2bd5b4[_0x3542f2(0x1fc)][_0x3542f2(0x190)](_0x3542f2(0x22b)),_0x3542f2(0x1b2)+_0x301ea0+'\x0a域名:\x20'+_0x2946cd[_0x3542f2(0x1c2)]+'\x0a入口:\x20'+(_0x2946cd[_0x3542f2(0x19a)]+_0x2946cd[_0x3542f2(0x20f)]));const _0x1247dc=await getvlessConfig(userID,_0x6882b0,_0x301ea0,_0x2946cd,_0x2c6730,nat64,hostRemark),_0x3ce791=_0x301ea0[_0x3542f2(0x1cf)]('mozilla'),_0x2589d9=await getCFConfig(_0x2d87d0,_0x4a9107,CF_ID);_0x2d87d0&&_0x4a9107&&({upload:upload,download:download,total:total}=_0x2589d9);const _0x1456d5={'Content-Type':_0x3ce791?_0x3542f2(0x15f):_0x3542f2(0x1dc),'Profile-Update-Interval':''+subUpdateTime,'Subscription-Userinfo':'upload='+upload+_0x3542f2(0x208)+download+_0x3542f2(0x1cc)+total+';\x20expire='+_0x409132};return!_0x3ce791&&(_0x1456d5['Content-Disposition']=_0x3542f2(0x1f3)+fileName+_0x3542f2(0x1b8)+fileName),new Response(_0x1247dc,{'status':0xc8,'headers':_0x1456d5});}case'/'+userID+_0x3542f2(0x16a):{return await showKVPage(_0x3b5936);}case'/'+userID+_0x3542f2(0x205):{return getKVData(_0x3b5936);}case'/'+userID+'/set':{return setKVData(_0x2bd5b4,_0x3b5936);}default:{return new Response(await nginx(),{'headers':{'Content-Type':'text/html;\x20charset=UTF-8','referer':_0x3542f2(0x1b9)+fileName}});}}}catch(_0x142667){return console[_0x3542f2(0x14d)]('Error\x20processing\x20request:',_0x142667),new Response(_0x3542f2(0x1c1)+_0x142667['message'],{'status':0x1f4});}}};async function vlessOverWSHandler(_0x43053f){const _0x5c8bb8=_0x2fb558,_0x294eb0=new WebSocketPair(),[_0x4632a1,_0x32e68d]=Object['values'](_0x294eb0);_0x32e68d['accept']();let _0x2cdeb2='',_0x44254e='',_0x37b0ed=new Date();const _0xafa3e1=(_0x379783,_0x569f94)=>{console['log']('['+_0x37b0ed+'\x20'+_0x2cdeb2+':'+_0x44254e+']\x20'+_0x379783,_0x569f94||'');},_0x5371ac=_0x43053f[_0x5c8bb8(0x1fc)][_0x5c8bb8(0x190)](_0x5c8bb8(0x1fe))||'',_0x45a4a4=makeReadableWebSocketStream(_0x32e68d,_0x5371ac,_0xafa3e1);let _0x122555={'value':null},_0x2112f7=null,_0x51af2c=![];return _0x45a4a4[_0x5c8bb8(0x164)](new WritableStream({async 'write'(_0x1ab8dc,_0x49d47c){const _0x153d46=_0x5c8bb8;if(_0x51af2c&&_0x2112f7)return _0x2112f7(_0x1ab8dc);if(_0x122555['value']){const _0x93b095=_0x122555[_0x153d46(0x1d3)][_0x153d46(0x158)]['getWriter']();await _0x93b095[_0x153d46(0x206)](_0x1ab8dc),_0x93b095[_0x153d46(0x183)]();return;}const {hasError:_0x46f2f3,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x514b76,vlessVersion:vlessVersion=new Uint8Array([0x0,0x0]),isUDP:_0x37295e,addressType:_0x3a2be2}=processVlessHeader(_0x1ab8dc,userID);_0x2cdeb2=addressRemote,_0x44254e=portRemote+'\x20'+(_0x37295e?_0x153d46(0x1a0):_0x153d46(0x1d9))+'\x20';if(_0x46f2f3)throw new Error(message);if(_0x37295e&&portRemote!==0x35)throw new Error(_0x153d46(0x163));_0x37295e&&portRemote===0x35&&(_0x51af2c=!![]);const _0x1b6543=new Uint8Array([vlessVersion[0x0],0x0]),_0x15b0e3=_0x1ab8dc[_0x153d46(0x17b)](_0x514b76);if(_0x51af2c){const {write:_0x28067e}=await handleUDPOutBound(_0x32e68d,_0x1b6543,_0xafa3e1);_0x2112f7=_0x28067e,_0x2112f7(_0x15b0e3);return;}_0xafa3e1(_0x153d46(0x20d)+_0x3a2be2+_0x153d46(0x22c)+addressRemote+':'+portRemote),handleTCPOutBound(_0x122555,addressRemote,portRemote,_0x15b0e3,_0x32e68d,_0x1b6543,_0xafa3e1,_0x3a2be2);},'close'(){const _0x4ca454=_0x5c8bb8;_0xafa3e1(_0x4ca454(0x191));},'abort'(_0x56f9ee){const _0x454b3e=_0x5c8bb8;_0xafa3e1(_0x454b3e(0x16f),JSON[_0x454b3e(0x1a9)](_0x56f9ee));}}))['catch'](_0x5ace23=>{const _0x5b8290=_0x5c8bb8;_0xafa3e1(_0x5b8290(0x1a1),_0x5ace23);}),new Response(null,{'status':0x65,'webSocket':_0x4632a1});}async function handleTCPOutBound(_0x44cd82,_0x308175,_0x2cd977,_0x322624,_0x55318d,_0x483dfd,_0x4fd416,_0x20fec6){const _0x1d3e72=_0x2fb558;async function _0xdb1303(_0x3dca18,_0x1a0e90,_0xfc82a2=![]){const _0x2025ea=_0x5108;let _0x21f5f8;socks5Enable&&parsedSocks5?_0x21f5f8=await socks5Connect(_0x20fec6,_0x3dca18,_0x1a0e90,_0x4fd416):_0x21f5f8=connect({'hostname':_0x3dca18,'port':_0x1a0e90});_0x44cd82[_0x2025ea(0x1d3)]=_0x21f5f8,console['log'](_0x2025ea(0x16b)+_0x3dca18+':'+_0x1a0e90+_0x2025ea(0x1ba)+(socks5Enable?_0x2025ea(0x1e7):_0x2025ea(0x166)));const _0x2be657=_0x21f5f8[_0x2025ea(0x158)][_0x2025ea(0x1d0)]();return await _0x2be657['write'](_0x322624),_0x2be657[_0x2025ea(0x183)](),_0x21f5f8;}async function _0x573eea(){const _0x18b3b4=_0x5108;let _0x509c6e;if(socks5Enable&&parsedSocks5)_0x509c6e=await _0xdb1303(_0x308175,_0x2cd977,!![]),_0x4fd416('retry-socks5\x20connected\x20to\x20'+_0x308175+':'+_0x2cd977+_0x18b3b4(0x187)+parsedSocks5['hostname']+':'+parsedSocks5['port']);else{const _0x4c7ea9=proxyIP||_0x308175,_0x369e08=proxyPort||_0x2cd977;_0x509c6e=await _0xdb1303(_0x4c7ea9,_0x369e08),_0x4fd416('retry-direct\x20connected\x20to\x20'+_0x4c7ea9+':'+_0x369e08);}_0x509c6e['closed']['catch'](_0x4debba=>{const _0x45d07c=_0x18b3b4;console['log'](_0x45d07c(0x17a),_0x4debba);})[_0x18b3b4(0x194)](()=>{safeCloseWebSocket(_0x55318d);}),remoteSocketToWS(_0x509c6e,_0x55318d,_0x483dfd,null,_0x4fd416);}let _0x104e0b;try{socks5Enable&&parsedSocks5?(_0x104e0b=await _0xdb1303(_0x308175,_0x2cd977,!![]),_0x4fd416('Primary\x20connection\x20via\x20SOCKS5:\x20'+parsedSocks5[_0x1d3e72(0x1c2)]+':'+parsedSocks5[_0x1d3e72(0x18a)])):(_0x104e0b=await _0xdb1303(_0x308175,_0x2cd977),_0x4fd416(_0x1d3e72(0x1be)+_0x308175+':'+_0x2cd977));}catch(_0x574620){_0x4fd416(_0x1d3e72(0x1b3)+_0x574620[_0x1d3e72(0x230)]+_0x1d3e72(0x1f2)),await _0x573eea();return;}remoteSocketToWS(_0x104e0b,_0x55318d,_0x483dfd,_0x573eea,_0x4fd416);}async function socks5Connect(_0x3317f4,_0x1e19ac,_0x21f748,_0x4b4f76){const _0x33712a=_0x2fb558;if(!parsedSocks5||!parsedSocks5[_0x33712a(0x1c2)]||!parsedSocks5[_0x33712a(0x18a)])throw new Error('SOCKS5\x20configuration\x20is\x20invalid');const {username:_0x24c266,password:_0x114a80,hostname:_0x30f574,port:_0x137f30}=parsedSocks5;try{let _0x3793bd=_0x30f574;const _0x40f8b8=_0x30f574[_0x33712a(0x1cf)](':')&&!/^\d+\.\d+\.\d+\.\d+$/[_0x33712a(0x1cb)](_0x30f574[_0x33712a(0x16d)](':')[0x0]);_0x40f8b8&&(_0x3793bd=_0x30f574['startsWith']('[')?_0x30f574:'['+_0x30f574+']',_0x4b4f76('IPv6\x20SOCKS5\x20proxy\x20detected:\x20'+_0x3793bd+':'+_0x137f30));_0x4b4f76(_0x33712a(0x23c)+_0x3793bd+':'+_0x137f30);const _0x5ac03c=connect({'hostname':_0x3793bd,'port':_0x137f30}),_0x4ca76a=_0x5ac03c[_0x33712a(0x158)][_0x33712a(0x1d0)](),_0x151f74=_0x5ac03c['readable'][_0x33712a(0x146)](),_0x367fef=new TextEncoder(),_0x15fe36=new Uint8Array([0x5,0x2,0x0,0x2]);await _0x4ca76a[_0x33712a(0x206)](_0x15fe36),_0x4b4f76(_0x33712a(0x21e));const _0x3d7e6d=await _0x151f74['read']();if(_0x3d7e6d[_0x33712a(0x239)])throw new Error('SOCKS5\x20server\x20closed\x20connection\x20unexpectedly');const _0x3c6596=_0x3d7e6d[_0x33712a(0x1d3)];if(_0x3c6596[0x1]===0x2){_0x4b4f76(_0x33712a(0x192));if(!_0x24c266||!_0x114a80)throw new Error('SOCKS5\x20server\x20requires\x20authentication\x20but\x20no\x20credentials\x20provided');const _0x4581d4=new Uint8Array([0x1,_0x24c266[_0x33712a(0x1f7)],..._0x367fef['encode'](_0x24c266),_0x114a80[_0x33712a(0x1f7)],..._0x367fef[_0x33712a(0x1e3)](_0x114a80)]);await _0x4ca76a[_0x33712a(0x206)](_0x4581d4);const _0x3a8e47=await _0x151f74['read']();if(_0x3a8e47['done'])throw new Error('SOCKS5\x20server\x20closed\x20connection\x20during\x20authentication');const _0xcb28ee=_0x3a8e47[_0x33712a(0x1d3)];if(_0xcb28ee[0x0]!==0x1||_0xcb28ee[0x1]!==0x0)throw new Error('SOCKS5\x20authentication\x20failed');_0x4b4f76(_0x33712a(0x242));}else{if(_0x3c6596[0x1]===0x0)_0x4b4f76(_0x33712a(0x1df));else throw new Error(_0x33712a(0x196)+_0x3c6596[0x1]);}let _0x28c748;switch(_0x3317f4){case 0x1:const _0x5e8ce5=_0x1e19ac[_0x33712a(0x16d)]('.');if(_0x5e8ce5['length']!==0x4)throw new Error(_0x33712a(0x1a6)+_0x1e19ac);_0x28c748=new Uint8Array([0x1,..._0x5e8ce5['map'](_0x120a7e=>parseInt(_0x120a7e,0xa))]);break;case 0x2:_0x28c748=new Uint8Array([0x3,_0x1e19ac[_0x33712a(0x1f7)],..._0x367fef[_0x33712a(0x1e3)](_0x1e19ac)]);break;case 0x3:const _0x5a380e=_0x1e19ac['replace'](/^\[|\]$/g,'');_0x4b4f76(_0x33712a(0x177)+_0x5a380e);const _0x81d15b=expandIPv6(_0x5a380e);_0x4b4f76(_0x33712a(0x1ea)+_0x81d15b);const _0x2ed73d=_0x81d15b[_0x33712a(0x16d)](':');if(_0x2ed73d[_0x33712a(0x1f7)]!==0x8)throw new Error(_0x33712a(0x184)+_0x81d15b);const _0x9ecd25=[];for(const _0x12b7c3 of _0x2ed73d){const _0x1e5afd=parseInt(_0x12b7c3,0x10);if(isNaN(_0x1e5afd))throw new Error(_0x33712a(0x213)+_0x12b7c3);_0x9ecd25[_0x33712a(0x225)](_0x1e5afd>>0x8&0xff,_0x1e5afd&0xff);}_0x28c748=new Uint8Array([0x4,..._0x9ecd25]);break;default:if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x33712a(0x1cb)](_0x1e19ac)){const _0x46a76d=_0x1e19ac[_0x33712a(0x16d)]('.');_0x28c748=new Uint8Array([0x1,..._0x46a76d[_0x33712a(0x1ec)](_0x3b92be=>parseInt(_0x3b92be,0xa))]);}else{if(_0x1e19ac[_0x33712a(0x1cf)](':')){const _0x23f4c9=_0x1e19ac[_0x33712a(0x200)](/^\[|\]$/g,''),_0x302311=expandIPv6(_0x23f4c9),_0x209ab6=_0x302311[_0x33712a(0x16d)](':'),_0x498a7d=[];for(const _0x549e02 of _0x209ab6){const _0x2cee92=parseInt(_0x549e02,0x10);_0x498a7d[_0x33712a(0x225)](_0x2cee92>>0x8&0xff,_0x2cee92&0xff);}_0x28c748=new Uint8Array([0x4,..._0x498a7d]);}else _0x28c748=new Uint8Array([0x3,_0x1e19ac[_0x33712a(0x1f7)],..._0x367fef['encode'](_0x1e19ac)]);}}const _0x1860d7=new Uint8Array([0x5,0x1,0x0,..._0x28c748,_0x21f748>>0x8,_0x21f748&0xff]);await _0x4ca76a[_0x33712a(0x206)](_0x1860d7),_0x4b4f76('SOCKS5\x20connection\x20request\x20sent');const _0x5c7b38=await _0x151f74[_0x33712a(0x202)]();if(_0x5c7b38[_0x33712a(0x239)])throw new Error('SOCKS5\x20server\x20closed\x20connection\x20during\x20request');const _0x1c1d3d=_0x5c7b38[_0x33712a(0x1d3)];if(_0x1c1d3d[0x1]!==0x0){const _0x25d738={0x1:_0x33712a(0x1d2),0x2:'Connection\x20not\x20allowed\x20by\x20ruleset',0x3:_0x33712a(0x152),0x4:_0x33712a(0x1f6),0x5:'Connection\x20refused',0x6:_0x33712a(0x204),0x7:_0x33712a(0x23d),0x8:'Address\x20type\x20not\x20supported'},_0x33fc10=_0x25d738[_0x1c1d3d[0x1]]||'Unknown\x20error\x20code:\x20'+_0x1c1d3d[0x1];throw new Error(_0x33712a(0x1eb)+_0x33fc10);}return _0x4b4f76(_0x33712a(0x1a4)),_0x4ca76a[_0x33712a(0x183)](),_0x151f74[_0x33712a(0x183)](),_0x4b4f76('SOCKS5\x20proxy\x20connection\x20established:\x20'+_0x3793bd+':'+_0x137f30+_0x33712a(0x23a)+_0x1e19ac+':'+_0x21f748),_0x5ac03c;}catch(_0x2d1ec6){_0x4b4f76('SOCKS5\x20connection\x20failed:\x20'+_0x2d1ec6[_0x33712a(0x230)]);throw _0x2d1ec6;}}function expandIPv6(_0x320708){const _0x2c2f16=_0x2fb558;if(_0x320708['includes']('::')){const _0x9539f4=_0x320708[_0x2c2f16(0x16d)]('::'),_0x2afd1c=_0x9539f4[0x0]?_0x9539f4[0x0][_0x2c2f16(0x16d)](':'):[],_0x5c3f3f=_0x9539f4[0x1]?_0x9539f4[0x1][_0x2c2f16(0x16d)](':'):[],_0x21f1f0=0x8,_0x2169df=_0x21f1f0-_0x2afd1c[_0x2c2f16(0x1f7)]-_0x5c3f3f[_0x2c2f16(0x1f7)],_0x596a4c=[..._0x2afd1c,...Array(_0x2169df)[_0x2c2f16(0x1bc)]('0'),..._0x5c3f3f];return _0x596a4c[_0x2c2f16(0x1ec)](_0x21e1f8=>_0x21e1f8['padStart'](0x4,'0'))[_0x2c2f16(0x1ca)](':');}else return _0x320708['split'](':')['map'](_0x5d55a9=>_0x5d55a9[_0x2c2f16(0x179)](0x4,'0'))[_0x2c2f16(0x1ca)](':');}function socks5Parser(_0x288214){const _0x14f612=_0x2fb558;let [_0x4612f0,_0x3db5da]=_0x288214[_0x14f612(0x16d)]('@')[_0x14f612(0x1e9)](),_0x209495,_0x1b4043,_0x23fe5e,_0x2defbb;if(_0x3db5da){const _0x3fa516=_0x3db5da[_0x14f612(0x16d)](':');if(_0x3fa516[_0x14f612(0x1f7)]!==0x2)throw new Error(_0x14f612(0x154));[_0x209495,_0x1b4043]=_0x3fa516;}if(_0x4612f0[_0x14f612(0x233)]('[')&&_0x4612f0[_0x14f612(0x1cf)](']:')){const _0x44b137=_0x4612f0['match'](/^\[([^\]]+)\]:(\d+)$/);if(_0x44b137)_0x23fe5e=_0x44b137[0x1],_0x2defbb=Number(_0x44b137[0x2]);else throw new Error(_0x14f612(0x1d8));}else{if(_0x4612f0['includes'](':')){const _0x344e37=_0x4612f0['split'](':'),_0x3ae31e=_0x344e37[_0x344e37[_0x14f612(0x1f7)]-0x1];if(/^\d+$/[_0x14f612(0x1cb)](_0x3ae31e)&&Number(_0x3ae31e)>0x0&&Number(_0x3ae31e)<=0xffff){const _0x1ec4bd=_0x344e37[_0x14f612(0x17b)](0x0,-0x1)[_0x14f612(0x1ca)](':'),_0x494399=(_0x1ec4bd[_0x14f612(0x22e)](/:/g)||[])['length']>=0x2,_0x229d8d=/[a-fA-F]/[_0x14f612(0x1cb)](_0x1ec4bd),_0x34321f=_0x1ec4bd[_0x14f612(0x1cf)]('::');_0x494399||_0x229d8d||_0x34321f?(_0x2defbb=Number(_0x3ae31e),_0x23fe5e=_0x1ec4bd):(_0x2defbb=Number(_0x3ae31e),_0x23fe5e=_0x344e37[_0x14f612(0x17b)](0x0,-0x1)['join'](':'));}else _0x23fe5e=_0x4612f0,_0x2defbb=0x438;}else _0x23fe5e=_0x4612f0,_0x2defbb=0x438;}if(isNaN(_0x2defbb)||_0x2defbb<=0x0||_0x2defbb>0xffff)throw new Error(_0x14f612(0x186));return _0x23fe5e=_0x23fe5e[_0x14f612(0x200)](/^\[|\]$/g,''),{'username':_0x209495,'password':_0x1b4043,'hostname':_0x23fe5e,'port':_0x2defbb};}async function parseSocks5FromUrl(_0x561ca6,_0x316cf2){const _0x4eca39=_0x2fb558;!_0x561ca6&&_0x316cf2['searchParams'][_0x4eca39(0x167)](_0x4eca39(0x1e7))&&(_0x561ca6=_0x316cf2[_0x4eca39(0x1c7)][_0x4eca39(0x190)](_0x4eca39(0x1e7)));!_0x561ca6&&_0x316cf2['searchParams'][_0x4eca39(0x167)](_0x4eca39(0x241))&&(_0x561ca6=_0x316cf2[_0x4eca39(0x1c7)][_0x4eca39(0x190)](_0x4eca39(0x241)));if(/\/socks5?=/['test'](_0x316cf2[_0x4eca39(0x19a)]))_0x561ca6=_0x316cf2[_0x4eca39(0x19a)][_0x4eca39(0x16d)]('5=')[0x1];else/\/socks[5]?:\/\//[_0x4eca39(0x1cb)](_0x316cf2['pathname'])&&(_0x561ca6=_0x316cf2['pathname'][_0x4eca39(0x16d)](_0x4eca39(0x18c))[0x1][_0x4eca39(0x16d)]('#')[0x0]);if(!_0x561ca6)return null;_0x561ca6=decodeURIComponent(_0x561ca6);const _0xf8b97e=_0x561ca6[_0x4eca39(0x188)]('@');if(_0xf8b97e!==-0x1){let _0x14f379=_0x561ca6['substring'](0x0,_0xf8b97e);const _0xd86e67=/^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i;if(_0xd86e67[_0x4eca39(0x1cb)](_0x14f379)&&!_0x14f379[_0x4eca39(0x1cf)](':'))try{_0x14f379=atob(_0x14f379);}catch(_0x29b869){console[_0x4eca39(0x1a8)](_0x4eca39(0x193),_0x29b869);}_0x561ca6=_0x14f379+'@'+_0x561ca6[_0x4eca39(0x1a5)](_0xf8b97e+0x1);}if(_0x561ca6)try{return socks5Parser(_0x561ca6);}catch(_0x386551){return console[_0x4eca39(0x1a8)](_0x4eca39(0x1f5),_0x386551[_0x4eca39(0x1fa)]()),null;}return null;}function processVlessHeader(_0x257f7b,_0x3396b8){const _0x1a6f23=_0x2fb558;if(_0x257f7b['byteLength']<0x18)return{'hasError':!![],'message':_0x1a6f23(0x214)};const _0x2b2131=new Uint8Array(_0x257f7b[_0x1a6f23(0x17b)](0x0,0x1));let _0x1226e4=![],_0x57ffe3=![];const _0x3ba777=new Uint8Array(_0x257f7b[_0x1a6f23(0x17b)](0x1,0x11)),_0x172e68=stringify(_0x3ba777),_0x12849e=_0x3396b8['includes'](',')?_0x3396b8[_0x1a6f23(0x16d)](','):[_0x3396b8];_0x1226e4=_0x12849e[_0x1a6f23(0x20e)](_0x27746b=>_0x172e68===_0x27746b[_0x1a6f23(0x14a)]())||_0x12849e[_0x1a6f23(0x1f7)]===0x1&&_0x172e68===_0x12849e[0x0][_0x1a6f23(0x14a)]();if(!_0x1226e4)return{'hasError':!![],'message':_0x1a6f23(0x22a)};const _0x10652c=new Uint8Array(_0x257f7b[_0x1a6f23(0x17b)](0x11,0x12))[0x0],_0x407e6f=new Uint8Array(_0x257f7b[_0x1a6f23(0x17b)](0x12+_0x10652c,0x12+_0x10652c+0x1))[0x0];if(_0x407e6f===0x1)_0x57ffe3=![];else{if(_0x407e6f===0x2)_0x57ffe3=!![];else return{'hasError':!![],'message':_0x1a6f23(0x1c4)+_0x407e6f+_0x1a6f23(0x1ee)};}const _0x2f6a22=0x12+_0x10652c+0x1,_0xb4ce5f=_0x257f7b[_0x1a6f23(0x17b)](_0x2f6a22,_0x2f6a22+0x2),_0x228b85=new DataView(_0xb4ce5f)[_0x1a6f23(0x240)](0x0);let _0x7ee272=_0x2f6a22+0x2;const _0xcaf7cf=new Uint8Array(_0x257f7b['slice'](_0x7ee272,_0x7ee272+0x1)),_0x172c49=_0xcaf7cf[0x0];let _0x1919df=0x0,_0x569322=_0x7ee272+0x1,_0x1a977d='';switch(_0x172c49){case 0x1:_0x1919df=0x4,_0x1a977d=new Uint8Array(_0x257f7b['slice'](_0x569322,_0x569322+_0x1919df))[_0x1a6f23(0x1ca)]('.');break;case 0x2:_0x1919df=new Uint8Array(_0x257f7b[_0x1a6f23(0x17b)](_0x569322,_0x569322+0x1))[0x0],_0x569322+=0x1,_0x1a977d=new TextDecoder()[_0x1a6f23(0x21c)](_0x257f7b[_0x1a6f23(0x17b)](_0x569322,_0x569322+_0x1919df));break;case 0x3:_0x1919df=0x10;const _0x379579=new DataView(_0x257f7b['slice'](_0x569322,_0x569322+_0x1919df)),_0x5c7bad=[];for(let _0x1374e2=0x0;_0x1374e2<0x8;_0x1374e2++){_0x5c7bad[_0x1a6f23(0x225)](_0x379579[_0x1a6f23(0x240)](_0x1374e2*0x2)['toString'](0x10));}_0x1a977d=_0x5c7bad[_0x1a6f23(0x1ca)](':');break;default:return{'hasError':!![],'message':_0x1a6f23(0x1bb)+_0x172c49};}if(!_0x1a977d)return{'hasError':!![],'message':_0x1a6f23(0x1ae)+_0x172c49};return{'hasError':![],'addressRemote':_0x1a977d,'portRemote':_0x228b85,'rawDataIndex':_0x569322+_0x1919df,'vlessVersion':_0x2b2131,'isUDP':_0x57ffe3,'addressType':_0x172c49};}async function handleUDPOutBound(_0x36b75d,_0x53487c,_0x4d8e36){const _0x1c30a4=_0x2fb558;let _0x5b125f=![];const _0x350eeb=new TransformStream({'start'(_0x28a038){},'transform'(_0x2efef1,_0x2a659c){const _0x4d9fb4=_0x5108;for(let _0x412006=0x0;_0x412006<_0x2efef1[_0x4d9fb4(0x21f)];){const _0x31bc86=_0x2efef1[_0x4d9fb4(0x17b)](_0x412006,_0x412006+0x2),_0x1c681c=new DataView(_0x31bc86)[_0x4d9fb4(0x240)](0x0),_0x511099=new Uint8Array(_0x2efef1[_0x4d9fb4(0x17b)](_0x412006+0x2,_0x412006+0x2+_0x1c681c));_0x412006=_0x412006+0x2+_0x1c681c,_0x2a659c['enqueue'](_0x511099);}},'flush'(_0xb06426){}});_0x350eeb[_0x1c30a4(0x150)][_0x1c30a4(0x164)](new WritableStream({async 'write'(_0x5c7160){const _0x5a5974=_0x1c30a4;let _0x5bb2d1;if(socks5Enable&&parsedSocks5)try{const _0x12d42f=await socks5Connect(0x2,_0x5a5974(0x197),0x35,_0x4d8e36),_0x347df9=_0x12d42f['writable'][_0x5a5974(0x1d0)](),_0x449313=_0x12d42f[_0x5a5974(0x150)][_0x5a5974(0x146)]();await _0x347df9['write'](_0x5c7160),_0x347df9[_0x5a5974(0x183)]();const _0x4d9641=await _0x449313['read']();_0x449313[_0x5a5974(0x183)]();if(!_0x4d9641[_0x5a5974(0x239)])_0x5bb2d1=_0x4d9641[_0x5a5974(0x1d3)];else throw new Error(_0x5a5974(0x23e));_0x12d42f[_0x5a5974(0x229)]();}catch(_0x3a1ff5){_0x4d8e36(_0x5a5974(0x195)+_0x3a1ff5[_0x5a5974(0x230)]+_0x5a5974(0x169));const _0x8ec6fc=await fetch(dohURL,{'method':'POST','headers':{'content-type':'application/dns-message'},'body':_0x5c7160});_0x5bb2d1=await _0x8ec6fc[_0x5a5974(0x181)]();}else{const _0x1c9cf8=await fetch(dohURL,{'method':_0x5a5974(0x19c),'headers':{'content-type':_0x5a5974(0x1e0)},'body':_0x5c7160});_0x5bb2d1=await _0x1c9cf8[_0x5a5974(0x181)]();}const _0x1a8447=_0x5bb2d1[_0x5a5974(0x21f)],_0x1aef9b=new Uint8Array([_0x1a8447>>0x8&0xff,_0x1a8447&0xff]);_0x36b75d['readyState']===WS_READY_STATE_OPEN&&(_0x4d8e36(_0x5a5974(0x1e8)+_0x1a8447+'\x20(via\x20'+(socks5Enable?_0x5a5974(0x1e7):_0x5a5974(0x15b))+')'),_0x5b125f?_0x36b75d['send'](await new Blob([_0x1aef9b,_0x5bb2d1])[_0x5a5974(0x181)]()):(_0x36b75d[_0x5a5974(0x175)](await new Blob([_0x53487c,_0x1aef9b,_0x5bb2d1])['arrayBuffer']()),_0x5b125f=!![]));}}))[_0x1c30a4(0x1a7)](_0x348d2a=>{const _0x21f764=_0x1c30a4;_0x4d8e36(_0x21f764(0x15d)+_0x348d2a);});const _0x595e11=_0x350eeb[_0x1c30a4(0x158)][_0x1c30a4(0x1d0)]();return{'write'(_0x17dc24){const _0x1955fa=_0x1c30a4;_0x595e11[_0x1955fa(0x206)](_0x17dc24);}};}function log(..._0x4dc97e){const _0x2394ef=_0x2fb558;if(ENABLE_LOG)console[_0x2394ef(0x1a8)](..._0x4dc97e);}function error(..._0x94a1fd){const _0x5b4ec0=_0x2fb558;if(ENABLE_LOG)console[_0x5b4ec0(0x14d)](..._0x94a1fd);}function isValidUUID(_0x47134a){const _0x594b91=_0x2fb558,_0x316ce6=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x316ce6[_0x594b91(0x1cb)](_0x47134a);}const byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex[_0x2fb558(0x225)]((i+0x100)[_0x2fb558(0x1fa)](0x10)[_0x2fb558(0x17b)](0x1));}function unsafeStringify(_0x18cf04,_0x1c6e05=0x0){return(byteToHex[_0x18cf04[_0x1c6e05+0x0]]+byteToHex[_0x18cf04[_0x1c6e05+0x1]]+byteToHex[_0x18cf04[_0x1c6e05+0x2]]+byteToHex[_0x18cf04[_0x1c6e05+0x3]]+'-'+byteToHex[_0x18cf04[_0x1c6e05+0x4]]+byteToHex[_0x18cf04[_0x1c6e05+0x5]]+'-'+byteToHex[_0x18cf04[_0x1c6e05+0x6]]+byteToHex[_0x18cf04[_0x1c6e05+0x7]]+'-'+byteToHex[_0x18cf04[_0x1c6e05+0x8]]+byteToHex[_0x18cf04[_0x1c6e05+0x9]]+'-'+byteToHex[_0x18cf04[_0x1c6e05+0xa]]+byteToHex[_0x18cf04[_0x1c6e05+0xb]]+byteToHex[_0x18cf04[_0x1c6e05+0xc]]+byteToHex[_0x18cf04[_0x1c6e05+0xd]]+byteToHex[_0x18cf04[_0x1c6e05+0xe]]+byteToHex[_0x18cf04[_0x1c6e05+0xf]])['toLowerCase']();}function stringify(_0x4bcb51,_0x5152f8=0x0){const _0x2d2136=unsafeStringify(_0x4bcb51,_0x5152f8);if(!isValidUUID(_0x2d2136))throw TypeError('Stringified\x20UUID\x20is\x20invalid');return _0x2d2136;}async function getFakeUserID(_0x1d9621){const _0x528606=_0x2fb558,_0x4ec802=new Date()[_0x528606(0x1e4)]()['split']('T')[0x0],_0x418d7b=_0x1d9621+'-'+_0x4ec802,_0x160151=await crypto[_0x528606(0x17e)][_0x528606(0x215)]('SHA-256',new TextEncoder()[_0x528606(0x1e3)](_0x418d7b)),_0x347273=Array[_0x528606(0x217)](new Uint8Array(_0x160151))[_0x528606(0x1ec)](_0x8f2541=>('00'+_0x8f2541[_0x528606(0x1fa)](0x10))[_0x528606(0x17b)](-0x2))[_0x528606(0x1ca)]('');return _0x347273[_0x528606(0x1a5)](0x0,0x8)+'-'+_0x347273[_0x528606(0x1a5)](0x8,0xc)+'-'+_0x347273[_0x528606(0x1a5)](0xc,0x10)+'-'+_0x347273[_0x528606(0x1a5)](0x10,0x14)+'-'+_0x347273[_0x528606(0x1a5)](0x14,0x20);}function base64ToArrayBuffer(_0x1cdde3){const _0x2d6d17=_0x2fb558;if(!_0x1cdde3)return{'earlyData':null,'error':null};try{_0x1cdde3=_0x1cdde3[_0x2d6d17(0x200)](/-/g,'+')[_0x2d6d17(0x200)](/_/g,'/');const _0x4a702b=atob(_0x1cdde3),_0x1645e8=Uint8Array[_0x2d6d17(0x217)](_0x4a702b,_0x205154=>_0x205154[_0x2d6d17(0x19e)](0x0));return{'earlyData':_0x1645e8[_0x2d6d17(0x1e1)],'error':null};}catch(_0x2342fb){return{'earlyData':null,'error':_0x2342fb};}}async function addIpText(_0x47d867){const _0xb47f40=_0x2fb558;var _0x3d3976=_0x47d867[_0xb47f40(0x200)](/[	|"'\r\n]+/g,',')[_0xb47f40(0x200)](/,+/g,',');_0x3d3976['charAt'](0x0)==','&&(_0x3d3976=_0x3d3976[_0xb47f40(0x17b)](0x1));_0x3d3976['charAt'](_0x3d3976[_0xb47f40(0x1f7)]-0x1)==','&&(_0x3d3976=_0x3d3976[_0xb47f40(0x17b)](0x0,_0x3d3976[_0xb47f40(0x1f7)]-0x1));const _0x41b47e=_0x3d3976[_0xb47f40(0x16d)](',');return _0x41b47e;}function getFileType(_0x13fb90){const _0x1a1e48=_0x2fb558,_0x5b5410=_0x13fb90['split']('@')[0x0],_0xdc56d7=_0x5b5410['match'](/\.(csv|txt)$/i);return _0xdc56d7?_0xdc56d7[0x1][_0x1a1e48(0x14c)]():_0x1a1e48(0x173);}function _0xdfff(){const _0x3fe60e=['value','TG_TOKEN','1354662ORlemY','vless://','text/html,application/xhtml+xml,application/xml','Invalid\x20IPv6\x20address\x20format\x20with\x20brackets','tcp','https://','text/html;\x20charset=UTF-8','text/plain;charset=utf-8','\x0a组织:\x20','YW1jbHVicy9hbS1jZi10dW5uZWw','SOCKS5\x20no\x20authentication\x20required','application/dns-message','buffer','enqueue','encode','toISOString','6IRnfdO','NAT64_DOM_URL_TXT','SOCKS5','DNS\x20query\x20success,\x20message\x20length\x20is\x20','reverse','Expanded\x20IPv6\x20address:\x20','SOCKS5\x20connection\x20failed:\x20','map','aHR0cHM6Ly95b3V0dWJlLmNvbS9AYW1fY2x1YnM=','\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux','random','\x20updated\x20successfully','endsWith',',\x20attempting\x20retry','attachment;\x20filename=','\x0a#\x20IPv6\x20SOCKS5代理\x0aSOCKS5\x20=\x20userxx7trEnB:passbWuL46ZL7ZyO@2400:c620:26:27b::a:26095\x0a#\x20或IPv4\x20SOCKS5代理\x0aSOCKS5\x20=\x20user:pass@192.168.1.100:1080\x0a#\x20DNS解析服务器\x0aDNS_RESOLVER_URL\x20=\x20','SOCKS5\x20parsing\x20error:','Host\x20unreachable','length','org','base64','toString','city','headers','&fp=random&path=%2F%3Fed%3D2560#','sec-websocket-protocol','<p><strong>🌐\x20IPv6代理已正确解析和连接！</strong></p>','replace','webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close','read','ZG14bGMzTT0=','TTL\x20expired','/get','write','uuid\x20is\x20invalid',';\x20download=','SOCKS5:\x20','</title>\x0a\x09\x09\x09<style>\x0a\x09\x09\x09\x09html,\x20body\x20{\x20height:\x20100%;\x20margin:\x200;\x20display:\x20flex;\x20justify-content:\x20center;\x20align-items:\x20center;\x20font-family:\x20Arial,\x20sans-serif;\x20}\x0a\x09\x09\x09\x09.container\x20{\x20text-align:\x20center;\x20padding:\x2020px;\x20border:\x201px\x20solid\x20#ddd;\x20border-radius:\x2010px;\x20background-color:\x20#f9f9f9;\x20width:\x20400px;\x20}\x0a\x09\x09\x09\x09h1\x20{\x20font-size:\x2024px;\x20margin-bottom:\x2020px;\x20}\x0a\x09\x09\x09\x09textarea\x20{\x20width:\x20100%;\x20height:\x20100px;\x20padding:\x2010px;\x20font-size:\x2016px;\x20border:\x201px\x20solid\x20#ccc;\x20border-radius:\x205px;\x20resize:\x20none;\x20}\x0a\x09\x09\x09\x09button\x20{\x20padding:\x2010px\x2020px;\x20font-size:\x2016px;\x20border:\x20none;\x20background-color:\x20#4CAF50;\x20color:\x20white;\x20border-radius:\x205px;\x20cursor:\x20pointer;\x20margin-top:\x2010px;\x20}\x0a\x09\x09\x09\x09button:hover\x20{\x20background-color:\x20#45a049;\x20}\x0a\x09\x09\x09\x09#saveStatus\x20{\x20color:\x20green;\x20margin-top:\x2010px;\x20}\x0a\x09\x09\x09</style>\x0a\x09\x09\x09<script>\x0a\x09\x09\x09\x09async\x20function\x20saveData()\x20{\x0a\x09\x09\x09\x09\x09const\x20value\x20=\x20document.getElementById(\x27value\x27).value;\x0a\x09\x09\x09\x09\x09const\x20response\x20=\x20await\x20fetch(\x27/','isArray','(IPv4)','processVlessHeader-->','some','search','\x0a城市:\x20','当前使用代理:\x20','127.0.0.1:1234#\x20(博客)\x20blog','Invalid\x20IPv6\x20part:\x20','invalid\x20data','digest','RANDOW_NUM','from','IPv4','&sni=','amclubs','\x0a\x09\x09\x09\x09','decode','sort','SOCKS5\x20greeting\x20sent','byteLength','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36','47710OXvjTR','Upgrade','Error:\x20Value\x20verification\x20failed\x20after\x20storage','icook.hk#t.me/','push','</textarea>\x0a\x09\x09\x09\x09<br/><br/>\x0a\x09\x09\x09\x09<button\x20onclick=\x22saveData()\x22>保存</button>\x0a\x09\x09\x09\x09<div\x20id=\x22saveStatus\x22></div>\x0a\x09\x09\x09</div>\x0a\x09\x09</body>\x0a\x09\x09</html>','SUB_CONFIG','\x0aASN:\x20','close','invalid\x20user','CF-Connecting-IP','\x20Processing\x20TCP\x20outbound\x20connection\x20','24uqBiKm','match','d0298536-d670-4045-bbb1-ddd5ea68683e','message','\x0a\x09<!DOCTYPE\x20html>\x0a\x09<html>\x0a\x09<head>\x0a\x09<meta\x20charset=\x22UTF-8\x22>\x0a\x09<title>Welcome\x20to\x20nginx!</title>\x0a\x09<style>\x0a\x09\x09body\x20{\x0a\x09\x09\x09width:\x2035em;\x0a\x09\x09\x09margin:\x200\x20auto;\x0a\x09\x09\x09font-family:\x20Tahoma,\x20Verdana,\x20Arial,\x20sans-serif;\x0a\x09\x09}\x0a\x09</style>\x0a\x09</head>\x0a\x09<body>\x0a\x09<h1>Welcome\x20to\x20nginx!</h1>\x0a\x09<p>If\x20you\x20see\x20this\x20page,\x20the\x20nginx\x20web\x20server\x20is\x20successfully\x20installed\x20and\x0a\x09working.\x20Further\x20configuration\x20is\x20required.</p>\x0a\x09<p>For\x20online\x20documentation\x20and\x20support\x20please\x20refer\x20to\x0a\x09<a\x20href=\x22http://nginx.org/\x22>nginx.org</a>.<br/>\x0a\x09Commercial\x20support\x20is\x20available\x20at\x0a\x09<a\x20href=\x22http://nginx.com/\x22>nginx.com</a>.</p>\x0a\x09<p><em>Thank\x20you\x20for\x20using\x20nginx.</em></p>\x0a\x09</body>\x0a\x09</html>\x0a\x09','YW1jbHVicw==','startsWith','Error:\x20amclubs\x20KV_NAMESPACE\x20is\x20not\x20bound.','.csv','\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🔌</span>\x0a\x09\x09\x09\x09\x09<strong>端口：</strong>\x20443\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🆔</span>\x0a\x09\x09\x09\x09\x09<strong>UUID：</strong>\x20','2602:fc59:b0:64::','当前没设置代理,\x20推荐设置PROXYIP或SOCKS5变量','done','\x20->\x20','text','Connecting\x20to\x20SOCKS5\x20proxy:\x20','Command\x20not\x20supported','No\x20DNS\x20response\x20received\x20via\x20SOCKS5','\x20模式</h4>\x0a\x09\x09\x09\x09<p><strong>代理服务器：</strong>\x20','getUint16','socks5','SOCKS5\x20authentication\x20successful','http://',':443?encryption=none&security=tls&type=ws&host=','csv','getReader','SUB_CONVERTER','\x0a\x09\x09\x09\x09<p><strong>🔥\x20所有网络连接（TCP/UDP/DNS）都将强制通过此SOCKS5代理！</strong></p>\x0a\x09\x09\x09</div>\x0a\x09\x09\x09','readyState','trim','gzip,\x20deflate,\x20br','toLowerCase','error','aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FtY2x1YnMvYW0tY2YtdHVubmVsL21haW4vaXB2NC50eHQ=','477pMGrby','readable','floor','Network\x20unreachable','aHR0cHM6Ly8xLjEuMS4xL2Rucy1xdWVyeQ==','Invalid\x20SOCKS\x20address\x20format:\x20authentication\x20must\x20be\x20in\x20the\x20\x22username:password\x22\x20format','remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20','/set\x27,\x20{\x20method:\x20\x27POST\x27,\x20body:\x20value\x20});\x0a\x09\x09\x09\x09\x09const\x20responseText\x20=\x20await\x20response.text();\x0a\x09\x09\x09\x09\x09document.getElementById(\x27saveStatus\x27).innerText\x20=\x20responseText;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09</script>\x0a\x09\x09</head>\x0a\x09\x09<body>\x0a\x09\x09\x09<div\x20class=\x22container\x22>\x0a\x09\x09\x09\x09<h1>UUID\x20管理页面</h1>\x0a\x09\x09\x09\x09<label\x20for=\x22key\x22>Key:</label>\x0a\x09\x09\x09\x09<input\x20type=\x22text\x22\x20id=\x22key\x22\x20value=\x22','SUB_NAME','writable','Error\x20sending\x20message:','HOST_REAMRK','DoH','method','DNS\x20UDP\x20has\x20error:\x20','forEach','text/html;charset=utf-8','\x22>\x0a\x09\x09\x09\x09<h4>✅\x20SOCKS5\x20代理已启用\x20-\x20','remoteSocketToWS\x20has\x20exception\x20','?lang=zh-CN','UDP\x20proxy\x20only\x20enabled\x20for\x20DNS\x20which\x20is\x20port\x2053','pipeTo','\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09</div>\x0a\x0a\x09\x09\x09<div\x20class=\x22config\x22>\x0a\x09\x09\x09\x09<h3>🛠️\x20IPv6\x20SOCKS5\x20修复特性</h3>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🔧</span>\x0a\x09\x09\x09\x09\x09<span><strong>智能地址解析：</strong>自动识别IPv6地址和端口分隔</span>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🔧</span>\x0a\x09\x09\x09\x09\x09<span><strong>IPv6压缩支持：</strong>正确处理\x22::\x22压缩格式</span>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🔧</span>\x0a\x09\x09\x09\x09\x09<span><strong>连接兼容性：</strong>IPv6地址自动添加方括号</span>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🔧</span>\x0a\x09\x09\x09\x09\x09<span><strong>强制路由：</strong>所有TCP/UDP连接都通过SOCKS5</span>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🔧</span>\x0a\x09\x09\x09\x09\x09<span><strong>完全兼容：</strong>支持IPv4/IPv6/域名三种格式</span>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09</div>\x0a\x0a\x09\x09\x09<div\x20class=\x22config\x22>\x0a\x09\x09\x09\x09<h3>🌐\x20IPv6\x20SOCKS5\x20支持的格式</h3>\x0a\x09\x09\x09\x09<pre>#\x20标准IPv6格式（推荐）\x0auserxx7trEnB:passbWuL46ZL7ZyO@2400:c620:26:27b::a:26095\x0a\x0a#\x20带方括号格式\x0auserxx7trEnB:passbWuL46ZL7ZyO@[2400:c620:26:27b::a]:26095\x0a\x0a#\x20无认证IPv6格式\x0a2400:c620:26:27b::a:26095\x0a\x0a#\x20完整IPv6格式\x0auser:pass@2001:0db8:85a3:0000:0000:8a2e:0370:7334:8080</pre>\x0a\x09\x09\x09</div>\x0a\x0a\x09\x09\x09<div\x20class=\x22config\x22>\x0a\x09\x09\x09\x09<h3>🔧\x20环境变量配置示例</h3>\x0a\x09\x09\x09\x09<pre>UUID\x20=\x20','direct','has','PROT_TYPE',',\x20fallback\x20to\x20DoH','/ui','connectAndWrite\x20connected\x20to\x20','mozilla','split','IP_LOCAL','readableWebSocketStream\x20is\x20abort','Host','wto.org:443#youtube.com/@','IP_URL_CSV','txt','(IPv6)','send','remoteConnection!.readable\x20abort','Processing\x20IPv6\x20target\x20address:\x20','\x0a\x09\x09\x09</div>\x0a\x0a\x09\x09\x09<div\x20class=\x22config\x22>\x0a\x09\x09\x09\x09<h3>📋\x20Vless\x20链接</h3>\x0a\x09\x09\x09\x09<pre\x20id=\x22vlessLink\x22>','padStart','retry\x20tcpSocket\x20closed\x20error','slice','sub','\x0a\x09\x09\x09<div\x20class=\x22alert\x20','subtle','https://api.telegram.org/bot','2544380AMPGXM','arrayBuffer','https://sky.rethinkdns.com/1:-Pf_____9_8A_AMAIgE8kMABVDDmKOHTAKg=','releaseLock','Invalid\x20IPv6\x20address\x20after\x20expansion:\x20','</pre>\x0a\x09\x09\x09</div>\x0a\x0a\x09\x09\x09<div\x20class=\x22alert\x20info\x22>\x0a\x09\x09\x09\x09<h4>📝\x20IPv6\x20SOCKS5\x20使用说明</h4>\x0a\x09\x09\x09\x09<p>1.\x20<strong>地址格式：</strong>支持标准IPv6格式和带方括号格式</p>\x0a\x09\x09\x09\x09<p>2.\x20<strong>端口识别：</strong>智能识别IPv6地址中的端口号</p>\x0a\x09\x09\x09\x09<p>3.\x20<strong>压缩支持：</strong>完全支持IPv6地址压缩（::）</p>\x0a\x09\x09\x09\x09<p>4.\x20<strong>连接稳定：</strong>修复了IPv6连接的所有已知问题</p>\x0a\x09\x09\x09\x09<p>5.\x20<strong>调试信息：</strong>控制台会显示详细的连接状态</p>\x0a\x09\x09\x09</div>\x0a\x09\x09</div>\x0a\x0a\x09\x09<script>\x0a\x09\x09\x09function\x20copyToClipboard(elementId)\x20{\x0a\x09\x09\x09\x09const\x20element\x20=\x20document.getElementById(elementId);\x0a\x09\x09\x09\x09const\x20text\x20=\x20element.textContent;\x0a\x09\x09\x09\x09navigator.clipboard.writeText(text).then(function()\x20{\x0a\x09\x09\x09\x09\x09alert(\x27✅\x20已复制到剪贴板\x27);\x0a\x09\x09\x09\x09}).catch(function(err)\x20{\x0a\x09\x09\x09\x09\x09console.error(\x27复制失败:\x20\x27,\x20err);\x0a\x09\x09\x09\x09\x09const\x20textArea\x20=\x20document.createElement(\x27textarea\x27);\x0a\x09\x09\x09\x09\x09textArea.value\x20=\x20text;\x0a\x09\x09\x09\x09\x09document.body.appendChild(textArea);\x0a\x09\x09\x09\x09\x09textArea.select();\x0a\x09\x09\x09\x09\x09document.execCommand(\x27copy\x27);\x0a\x09\x09\x09\x09\x09document.body.removeChild(textArea);\x0a\x09\x09\x09\x09\x09alert(\x27✅\x20已复制到剪贴板\x27);\x0a\x09\x09\x09\x09});\x0a\x09\x09\x09}\x0a\x09\x09</script>\x0a\x09</body>\x0a\x09</html>\x0a\x09','Invalid\x20SOCKS\x20address\x20format:\x20port\x20must\x20be\x20a\x20valid\x20number\x20between\x201-65535','\x20via\x20SOCKS5\x20','indexOf','\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🔐</span>\x0a\x09\x09\x09\x09\x09<strong>加密方式：</strong>\x20none\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🌐</span>\x0a\x09\x09\x09\x09\x09<strong>传输协议：</strong>\x20ws\x20(WebSocket)\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>📍</span>\x0a\x09\x09\x09\x09\x09<strong>路径：</strong>\x20/?ed=2560\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🔒</span>\x0a\x09\x09\x09\x09\x09<strong>TLS：</strong>\x20开启\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🏷️</span>\x0a\x09\x09\x09\x09\x09<strong>SNI：</strong>\x20','port','PROXYIP','://','json','ADDRESSESAPI','username','get','readableWebSocketStream\x20is\x20close','SOCKS5\x20server\x20requires\x20authentication','Base64\x20decode\x20failed:','finally','DNS\x20via\x20SOCKS5\x20failed:\x20','SOCKS5\x20server\x20rejected\x20connection:\x20','8.8.8.8','\x0a\x0a\x09\x09\x09<div\x20class=\x22alert\x20info\x22>\x0a\x09\x09\x09\x09<strong>📊\x20代理状态：</strong>\x20','HTML','pathname','GET','POST','retry','charCodeAt','/sendMessage','udp','readableWebSocketStream\x20pipeTo\x20error','361516bplOwE','#获取订阅\x20','SOCKS5\x20connection\x20established\x20successfully','substring','Invalid\x20IPv4\x20address:\x20','catch','log','stringify','SOCKS5\x20proxy\x20enabled:','addEventListener','NO_TLS','safeCloseWebSocket\x20error','addressValue\x20is\x20empty,\x20addressType\x20is\x20','IPv6','PROXYIP:\x20','ipv6','UA:\x20','Primary\x20connection\x20failed:\x20','websocket','Use\x20POST\x20method\x20to\x20set\x20values','http://ip-api.com/json/','</pre>\x0a\x09\x09\x09\x09<button\x20class=\x22copy-btn\x22\x20onclick=\x22copyToClipboard(\x27vlessLink\x27)\x22>📋\x20复制链接</button>\x0a\x09\x09\x09</div>\x0a\x0a\x09\x09\x09<div\x20class=\x22config\x22>\x0a\x09\x09\x09\x09<h3>⚙️\x20手动配置参数</h3>\x0a\x09\x09\x09\x09<div\x20class=\x22feature\x22>\x0a\x09\x09\x09\x09\x09<span\x20class=\x22feature-icon\x22>🏠</span>\x0a\x09\x09\x09\x09\x09<strong>服务器地址：</strong>\x20',';\x20filename*=gbk\x27\x27','https://www.google.com/search?q=','\x20via\x20','invild\x20\x20addressType\x20is\x20','fill','2657584tNKuRK','Primary\x20direct\x20connection\x20to:\x20','IP_URL_TXT','154316pPHAVP','Error:\x20','hostname','ZEhKdmFtRnU=','command\x20','5940032fFrCAa','\x0a\x09\x09<!DOCTYPE\x20html>\x0a\x09\x09<html>\x0a\x09\x09<head>\x0a\x09\x09\x09<meta\x20charset=\x22UTF-8\x22>\x20\x0a\x09\x09\x09<title>','searchParams','aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FtY2x1YnMvQUNMNFNTUi9tYWluL0NsYXNoL2NvbmZpZy9BQ0w0U1NSX09ubGluZV9GdWxsX011bHRpTW9kZS5pbmk=','DNS_RESOLVER_URL','join','test',';\x20total=','5pWw5a2X5aWX5Ymp','\x0aIP:\x20','includes','getWriter','\x22\x20readonly\x20/>\x0a\x09\x09\x09\x09<br/><br/>\x0a\x09\x09\x09\x09<label\x20for=\x22value\x22>Value:</label>\x0a\x09\x09\x09\x09<textarea\x20id=\x22value\x22>','General\x20SOCKS\x20server\x20failure'];_0xdfff=function(){return _0x3fe60e;};return _0xdfff();}function getRandomItems(_0x1a95bb,_0xe5d8ea){const _0x3110b5=_0x2fb558;if(!Array[_0x3110b5(0x20b)](_0x1a95bb))return[];const _0x49d58d=[..._0x1a95bb][_0x3110b5(0x21d)](()=>0.5-Math[_0x3110b5(0x1ef)]());return _0x49d58d[_0x3110b5(0x17b)](0x0,_0xe5d8ea);}function makeReadableWebSocketStream(_0x2de941,_0x3c3033,_0x1c3d6c){let _0x26ea06=![];const _0x2fbf8a=new ReadableStream({'start'(_0x1c0ec1){const _0x234dfc=_0x5108;_0x2de941[_0x234dfc(0x1ab)](_0x234dfc(0x230),_0x5b14f7=>{const _0x763102=_0x234dfc,_0x5e8910=_0x5b14f7['data'];_0x1c0ec1[_0x763102(0x1e2)](_0x5e8910);}),_0x2de941[_0x234dfc(0x1ab)](_0x234dfc(0x229),()=>{safeCloseWebSocket(_0x2de941),_0x1c0ec1['close']();}),_0x2de941[_0x234dfc(0x1ab)](_0x234dfc(0x14d),_0x3d790d=>{const _0x142b96=_0x234dfc;_0x1c3d6c('webSocketServer\x20has\x20error'),_0x1c0ec1[_0x142b96(0x14d)](_0x3d790d);});const {earlyData:_0xf630f,error:_0x224fc8}=base64ToArrayBuffer(_0x3c3033);if(_0x224fc8)_0x1c0ec1[_0x234dfc(0x14d)](_0x224fc8);else _0xf630f&&_0x1c0ec1[_0x234dfc(0x1e2)](_0xf630f);},'pull'(_0xb87a31){},'cancel'(_0x120d51){_0x1c3d6c('ReadableStream\x20was\x20canceled,\x20due\x20to\x20'+_0x120d51),_0x26ea06=!![],safeCloseWebSocket(_0x2de941);}});return _0x2fbf8a;}async function remoteSocketToWS(_0x54b6bc,_0x15f147,_0x18b059,_0x232377,_0x5a1291){const _0x22ba5b=_0x2fb558;let _0x4a4e67=0x0,_0x24637e=[],_0x1c5e6b=_0x18b059,_0x3cd461=![];await _0x54b6bc[_0x22ba5b(0x150)][_0x22ba5b(0x164)](new WritableStream({'start'(){},async 'write'(_0x5dd3ea,_0x28f25c){const _0x43565b=_0x22ba5b;_0x3cd461=!![],_0x4a4e67++,_0x15f147['readyState']!==WS_READY_STATE_OPEN&&_0x28f25c[_0x43565b(0x14d)](_0x43565b(0x201)),_0x1c5e6b?(_0x15f147[_0x43565b(0x175)](await new Blob([_0x1c5e6b,_0x5dd3ea])['arrayBuffer']()),_0x1c5e6b=null):_0x15f147['send'](_0x5dd3ea);},'close'(){const _0x201aba=_0x22ba5b;_0x5a1291(_0x201aba(0x155)+_0x3cd461);},'abort'(_0x5d7ae0){const _0x2d2544=_0x22ba5b;console[_0x2d2544(0x14d)](_0x2d2544(0x176),_0x5d7ae0);}}))[_0x22ba5b(0x1a7)](_0x3ce36c=>{const _0x11a505=_0x22ba5b;console[_0x11a505(0x14d)](_0x11a505(0x161),_0x3ce36c['stack']||_0x3ce36c),safeCloseWebSocket(_0x15f147);}),_0x3cd461===![]&&_0x232377&&(_0x5a1291(_0x22ba5b(0x19d)),_0x232377());}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x2e687a){const _0x2a69c5=_0x2fb558;try{(_0x2e687a[_0x2a69c5(0x149)]===WS_READY_STATE_OPEN||_0x2e687a[_0x2a69c5(0x149)]===WS_READY_STATE_CLOSING)&&_0x2e687a[_0x2a69c5(0x229)]();}catch(_0x140eaa){console[_0x2a69c5(0x14d)](_0x2a69c5(0x1ad),_0x140eaa);}}async function getvlessConfig(_0x3e95be,_0x51bde5,_0x1c21a1,_0x212fb4,_0x3bb371,_0x8ef052,_0xaec6de){const _0x14fe06=_0x2fb558,_0x677a73=_0x14fe06(0x1d6)+_0x3e95be+'@'+_0x51bde5+_0x14fe06(0x144)+_0x51bde5+_0x14fe06(0x219)+_0x51bde5+_0x14fe06(0x1fd)+_0x51bde5,_0x1305a7=(_0x1c21a1||'')[_0x14fe06(0x14c)]();if(_0x1305a7[_0x14fe06(0x1cf)](_0x14fe06(0x16c))&&!_0x212fb4[_0x14fe06(0x1c7)][_0x14fe06(0x167)](_0x14fe06(0x17c))&&!_0x212fb4[_0x14fe06(0x1c7)][_0x14fe06(0x167)](_0x14fe06(0x1f9)))return getHtmlResponse(_0x3e95be,_0x51bde5,_0x677a73);return btoa(_0x677a73);}function getHtmlResponse(_0x21d50d,_0x3222ff,_0x5769fc){const _0x33b6eb=_0x2fb558,_0x12556e=socks5Enable?_0x33b6eb(0x209)+parsedSocks5[_0x33b6eb(0x1c2)]+':'+parsedSocks5['port']+'\x20'+(parsedSocks5[_0x33b6eb(0x1c2)][_0x33b6eb(0x1cf)](':')?_0x33b6eb(0x174):_0x33b6eb(0x20c)):_0x33b6eb(0x1b0)+proxyIP,_0x2409ac=proxyIP||socks5Enable?_0x33b6eb(0x211)+_0x12556e:_0x33b6eb(0x238);return'\x0a\x09<!DOCTYPE\x20html>\x0a\x09<html>\x0a\x09<head>\x0a\x09\x09<meta\x20charset=\x22UTF-8\x22>\x0a\x09\x09<title>Vless\x20配置\x20-\x20IPv6\x20SOCKS5修复版</title>\x0a\x09\x09<style>\x0a\x09\x09\x09body\x20{\x20font-family:\x20Arial,\x20sans-serif;\x20margin:\x2040px;\x20background:\x20#f5f5f5;\x20}\x0a\x09\x09\x09.container\x20{\x20max-width:\x20800px;\x20margin:\x200\x20auto;\x20background:\x20white;\x20padding:\x2030px;\x20border-radius:\x2010px;\x20box-shadow:\x200\x202px\x2010px\x20rgba(0,0,0,0.1);\x20}\x0a\x09\x09\x09.header\x20{\x20text-align:\x20center;\x20margin-bottom:\x2030px;\x20}\x0a\x09\x09\x09.config\x20{\x20background:\x20#f8f9fa;\x20padding:\x2020px;\x20border-radius:\x208px;\x20margin:\x2020px\x200;\x20border-left:\x204px\x20solid\x20#007cba;\x20}\x0a\x09\x09\x09.copy-btn\x20{\x20background:\x20#007cba;\x20color:\x20white;\x20border:\x20none;\x20padding:\x2010px\x2020px;\x20border-radius:\x204px;\x20cursor:\x20pointer;\x20margin-left:\x2010px;\x20}\x0a\x09\x09\x09.copy-btn:hover\x20{\x20background:\x20#005a82;\x20}\x0a\x09\x09\x09.alert\x20{\x20background:\x20#d4edda;\x20border:\x201px\x20solid\x20#c3e6cb;\x20color:\x20#155724;\x20padding:\x2015px;\x20border-radius:\x204px;\x20margin:\x2020px\x200;\x20}\x0a\x09\x09\x09.warning\x20{\x20background:\x20#fff3cd;\x20border:\x201px\x20solid\x20#ffeaa7;\x20color:\x20#856404;\x20}\x0a\x09\x09\x09.info\x20{\x20background:\x20#d1ecf1;\x20border:\x201px\x20solid\x20#bee5eb;\x20color:\x20#0c5460;\x20}\x0a\x09\x09\x09.success\x20{\x20background:\x20#d1edda;\x20border:\x201px\x20solid\x20#c3e6cb;\x20color:\x20#155724;\x20}\x0a\x09\x09\x09.ipv6\x20{\x20background:\x20#e7f3ff;\x20border:\x201px\x20solid\x20#bee5eb;\x20color:\x20#0c5460;\x20}\x0a\x09\x09\x09pre\x20{\x20background:\x20#f8f9fa;\x20padding:\x2015px;\x20border-radius:\x204px;\x20overflow-x:\x20auto;\x20white-space:\x20pre-wrap;\x20word-wrap:\x20break-word;\x20}\x0a\x09\x09\x09.feature\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20margin:\x2010px\x200;\x20}\x0a\x09\x09\x09.feature-icon\x20{\x20margin-right:\x2010px;\x20font-size:\x2018px;\x20}\x0a\x09\x09</style>\x0a\x09</head>\x0a\x09<body>\x0a\x09\x09<div\x20class=\x22container\x22>\x0a\x09\x09\x09<div\x20class=\x22header\x22>\x0a\x09\x09\x09\x09<h1>🚀\x20Vless\x20配置\x20-\x20IPv6\x20SOCKS5修复版</h1>\x0a\x09\x09\x09\x09<p>完全支持IPv6\x20SOCKS5代理，所有TCP和UDP流量强制通过SOCKS5出站</p>\x0a\x09\x09\x09</div>\x0a\x0a\x09\x09\x09'+(socks5Enable?_0x33b6eb(0x17d)+(parsedSocks5[_0x33b6eb(0x1c2)][_0x33b6eb(0x1cf)](':')?_0x33b6eb(0x1b1):'success')+_0x33b6eb(0x160)+(parsedSocks5[_0x33b6eb(0x1c2)][_0x33b6eb(0x1cf)](':')?_0x33b6eb(0x1af):_0x33b6eb(0x218))+_0x33b6eb(0x23f)+parsedSocks5[_0x33b6eb(0x1c2)]+':'+parsedSocks5[_0x33b6eb(0x18a)]+'</p>\x0a\x09\x09\x09\x09'+(parsedSocks5[_0x33b6eb(0x18f)]?'<p><strong>认证用户：</strong>\x20'+parsedSocks5['username']+'</p>':'')+_0x33b6eb(0x21b)+(parsedSocks5[_0x33b6eb(0x1c2)][_0x33b6eb(0x1cf)](':')?_0x33b6eb(0x1ff):'')+_0x33b6eb(0x148):'\x0a\x09\x09\x09<div\x20class=\x22alert\x20warning\x22>\x0a\x09\x09\x09\x09<h4>⚠️\x20未检测到SOCKS5配置</h4>\x0a\x09\x09\x09\x09<p>当前使用直连模式，建议在URL中添加SOCKS5参数：</p>\x0a\x09\x09\x09\x09<pre>#\x20IPv4\x20SOCKS5\x0a/?ed=2560&SOCKS5=user:pass@192.168.1.1:1080\x0a\x0a#\x20IPv6\x20SOCKS5\x20(推荐格式)\x0a/?ed=2560&SOCKS5=user:pass@2400:c620:26:27b::a:26095\x0a\x0a#\x20IPv6\x20带方括号格式\x0a/?ed=2560&SOCKS5=user:pass@[2400:c620:26:27b::a]:26095</pre>\x0a\x09\x09\x09</div>\x0a\x09\x09\x09')+_0x33b6eb(0x198)+_0x2409ac+_0x33b6eb(0x178)+_0x5769fc+_0x33b6eb(0x1b7)+_0x3222ff+_0x33b6eb(0x236)+_0x21d50d+_0x33b6eb(0x189)+_0x3222ff+_0x33b6eb(0x165)+_0x21d50d+_0x33b6eb(0x1f4)+dohURL+_0x33b6eb(0x185);}async function getIpUrlTxtAndCsv(_0x56209b,_0xfca193,_0x220249,_0x36863a){return{'txt':[],'csv':[]};}async function getIpUrlTxtToArry(_0x242624){return[];}async function getCFConfig(_0x5a9ae8,_0xe79f4d,_0x5c7178){return{'upload':0x0,'download':0x0,'total':0x0};}const MY_KV_UUID_KEY=atob('VVVJRA==');async function checkKVNamespaceBinding(_0x48c842){const _0x3c6dc9=_0x2fb558;if(typeof _0x48c842[_0x3c6dc9(0x21a)]==='undefined')return new Response(_0x3c6dc9(0x234),{'status':0x190});}async function getKVData(_0x3c73a5){const _0x4f4785=_0x2fb558,_0x28e328=await _0x3c73a5[_0x4f4785(0x21a)]['get'](MY_KV_UUID_KEY);return _0x28e328?String(_0x28e328):'';}async function setKVData(_0x3b6d58,_0x5e826b){const _0x3bcc43=_0x2fb558;if(_0x3b6d58[_0x3bcc43(0x15c)]!==_0x3bcc43(0x19c))return new Response(_0x3bcc43(0x1b5),{'status':0x195});const _0xa1cdb6=await _0x3b6d58[_0x3bcc43(0x23b)]();try{await _0x5e826b[_0x3bcc43(0x21a)]['put'](MY_KV_UUID_KEY,_0xa1cdb6);const _0x15e17f=await _0x5e826b['amclubs'][_0x3bcc43(0x190)](MY_KV_UUID_KEY);return _0x15e17f===_0xa1cdb6?new Response(MY_KV_UUID_KEY+_0x3bcc43(0x1f0),{'status':0xc8}):new Response(_0x3bcc43(0x223),{'status':0x1f4});}catch(_0x8d398a){return new Response('Error\x20storing\x20value:\x20'+_0x8d398a[_0x3bcc43(0x230)],{'status':0x1f4});}}async function showKVPage(_0x49b18a){const _0x9dea9a=_0x2fb558,_0x2f250d=await checkKVNamespaceBinding(_0x49b18a);if(_0x2f250d)return _0x2f250d;const _0x12f660=await getKVData(_0x49b18a);return new Response(_0x9dea9a(0x1c6)+fileName+_0x9dea9a(0x20a)+userID+_0x9dea9a(0x156)+MY_KV_UUID_KEY+_0x9dea9a(0x1d1)+(_0x12f660||'')+_0x9dea9a(0x226),{'headers':{'Content-Type':'text/html;\x20charset=UTF-8'},'status':0xc8});}const API_URL=_0x2fb558(0x1b6),TELEGRAM_API_URL=_0x2fb558(0x17f);async function sendMessage(_0x25dd33,_0x1099f6,_0x524741=''){const _0x579dca=_0x2fb558;if(botToken&&chatID)try{const _0x14aff1=await fetch(''+API_URL+_0x1099f6+_0x579dca(0x162));let _0x505712=_0x25dd33+_0x579dca(0x1ce)+_0x1099f6+'\x0a'+_0x524741;if(_0x14aff1['ok']){const _0x375473=await _0x14aff1[_0x579dca(0x18d)]();_0x505712=_0x25dd33+_0x579dca(0x1ce)+_0x1099f6+'\x0a国家:\x20'+_0x375473['country']+_0x579dca(0x210)+_0x375473[_0x579dca(0x1fb)]+_0x579dca(0x1dd)+_0x375473[_0x579dca(0x1f8)]+_0x579dca(0x228)+_0x375473['as']+'\x0a'+_0x524741;}const _0x14ce11=''+TELEGRAM_API_URL+botToken+_0x579dca(0x19f),_0x2a564c=new URLSearchParams({'chat_id':chatID,'parse_mode':_0x579dca(0x199),'text':_0x505712});await fetch(_0x14ce11+'?'+_0x2a564c['toString'](),{'method':_0x579dca(0x19b),'headers':{'Accept':_0x579dca(0x1d7),'Accept-Encoding':_0x579dca(0x14b),'User-Agent':_0x579dca(0x220)}});}catch(_0x253b2b){console[_0x579dca(0x14d)](_0x579dca(0x159),_0x253b2b);}}async function nginx(){const _0x1b84b5=_0x2fb558;return _0x1b84b5(0x231);}